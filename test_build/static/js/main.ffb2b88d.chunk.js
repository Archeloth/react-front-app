(this["webpackJsonpreact-front-app"]=this["webpackJsonpreact-front-app"]||[]).push([[0],{37:function(e,t,a){e.exports=a(66)},42:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),l=a.n(c),s=(a(42),a(8),a(9));var i=function(){return r.a.createElement("nav",null,r.a.createElement(s.b,{to:"/",exact:!0,activeClassName:"active",className:"nav-link"},r.a.createElement("h3",null,"Home page")),r.a.createElement("div",{className:"nav-links"},r.a.createElement(s.b,{to:"/search",activeClassName:"active",className:"nav-link"},"Search"),r.a.createElement(s.b,{to:"/upload",activeClassName:"active",className:"nav-link"},"Upload")))},o=a(31),u=a(32),m=a(33),p=a(35),d=a(34),h=a(36),f=a(10),E=a.n(f),g=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).changeHandler=function(e){a.setState(Object(o.a)({},e.target.name,e.target.value))},a.submitHandler=function(e){""===a.state.ingredients&&""===a.state.name||(a.state.ingredients=a.state.ingredients.split(",")),e.preventDefault(),console.log(a.state),E.a.defaults.headers.post["Content-Type"]="application/json",E.a.post("https://public-recepy-api.herokuapp.com/recepts",a.state).then((function(e){console.log(e),a.setState({message:"Update successful"})})).catch((function(e){console.log(e),a.setState({message:"Error while uploading"})}))},a.state={name:"",ingredients:[],owner:"",message:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.ingredients,n=e.owner;return r.a.createElement("div",null,r.a.createElement("h3",null,"Upload form"),r.a.createElement("p",null,r.a.createElement("b",null,"Tips: "),"Separate the different ingredients with commas ( , )"),r.a.createElement("form",{onSubmit:this.submitHandler,className:"upload-form"},r.a.createElement("input",{type:"text",name:"name",value:t,onChange:this.changeHandler,placeholder:"Name"}),r.a.createElement("input",{type:"text",name:"ingredients",value:a,onChange:this.changeHandler,placeholder:"Ingredients"}),r.a.createElement("input",{type:"text",name:"owner",value:n,onChange:this.changeHandler,placeholder:"Owner"}),r.a.createElement("button",{type:"submit",className:"upload-submit"},"Submit")),r.a.createElement("p",null,this.state.message))}}]),t}(n.Component),v=a(11),b=a.n(v),w=a(14),y=a(12),k=function(e){return r.a.createElement("div",{className:"recipe"},r.a.createElement("h1",null,e.name),r.a.createElement("label",null,"Ingredients:"),r.a.createElement("ul",null,e.ingredients.map((function(e){return r.a.createElement("li",{key:e},e)}))),r.a.createElement("p",null,r.a.createElement("span",null,"Recipe Owner: "),r.a.createElement("b",null,e.owner)),r.a.createElement("p",null,r.a.createElement("span",null,"Created: "),r.a.createElement("b",null,e.creationDate)),r.a.createElement("ul",{className:"recipe-links"},r.a.createElement("li",{className:"modify",key:"modify"},"Modify"),r.a.createElement("li",{className:"delete",key:"delete",onClick:function(t){!0===window.confirm("Are you sure you want to delete this recipe?")&&(E.a.defaults.headers.delete["Access-Control-Allow-Origin"]="access-control-allow-origin",E.a.delete("https://public-recepy-api.herokuapp.com/recepts/".concat(e.id),"GET,POST,PATCH,DELETE").then((function(e){console.log(e),window.location.reload()})).catch((function(e){console.log(e)})))}},"Delete")))};var O=function(){var e=Object(n.useState)([]),t=Object(y.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){var e=Object(w.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://public-recepy-api.herokuapp.com/recepts");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c(a),console.log(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to the best Cake recipe website!"),r.a.createElement("div",{className:"recipes"},a.map((function(e){return r.a.createElement(k,{id:e._id,name:e.name,ingredients:e.ingredients,owner:e.owner,creationDate:e.creationDate.split("T")[0]})}))))};var j=function(){var e=Object(n.useState)([]),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(y.a)(l,2),i=s[0],o=s[1],u=Object(n.useState)(0),m=Object(y.a)(u,2),p=m[0],d=m[1],h=function(){var e=Object(w.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://public-recepy-api.herokuapp.com/recepts/search/"+i);case 2:if(200!==(t=e.sent).status){e.next=9;break}return e.next=6,t.json();case 6:a=e.sent,d(a.length),c(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text",className:"search-input",value:i,onChange:function(e){if(o(e.target.value),e.target.value.length>3)h();else{for(;a.length>0;)a.pop();d(0)}}}),r.a.createElement("p",null,"Found recipes: ",p),r.a.createElement("div",{className:"recipes"},a.map((function(e){return r.a.createElement(k,{id:e._id,name:e.name,ingredients:e.ingredients,owner:e.owner,creationDate:e.creationDate.split("T")[0]})}))))},N=a(6),x=function(){return r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(i,null),r.a.createElement(N.c,null,r.a.createElement(N.a,{path:"/",exact:!0,component:O})),r.a.createElement(N.c,null,r.a.createElement(N.a,{path:"/upload",exact:!0,component:g})),r.a.createElement(N.c,null,r.a.createElement(N.a,{path:"/search",exact:!0,component:j}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,a){}},[[37,1,2]]]);
//# sourceMappingURL=main.ffb2b88d.chunk.js.map